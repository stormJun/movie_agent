# 扩展搜索策略

> 目标：新增/改造一种检索策略（Local / Global / Hybrid / DeepResearch / 自定义）。

## 1. 新增 Tool

搜索工具通常位于：

- `backend/graphrag_agent/search/tool/`

参考现有实现（例如 `local_search_tool.py`、`hybrid_tool.py`），新增一个 `*_tool.py`。

## 2. 选择输入输出契约

建议先明确：

- 输入：query、上下文（thread_id / keywords 等）
- 输出：可用于生成回答的“证据文本”与“结构化元数据”

## 3. 接入 Agent

在对应 Agent（如 `backend/graphrag_agent/agents/hybrid_agent.py`）中：

- 增加对新 tool 的选择/调用逻辑
- 或在 multi-agent 编排里把它作为一种 task_type

## 4. 最小验证

- 用 `server` API 或直接运行 Agent 的入口脚本做一次端到端调用
- 确认 Neo4j 连接、向量检索、缓存命中等关键链路正常
